<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>聊天室</title>
  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
    integrity="sha256-YvdLHPgkqJ8DVUxjjnGVlMMJtNimJ6dYkowFFvp4kKs="
    crossorigin="anonymous">
  <style>
    .text-12px { font-size: 12px; }
    .upload-image { max-width: 500px; max-height: 500px; }
  </style>
</head>
<body>
<div class="p-3">
  <!-- 显示所有的用户 -->
  <div class="mb-2 p-3 border border-dark">
    <h6 class="mb-3">当前在线用户：</h6>
    <div id="connect-ids"></div>
  </div>

  <!-- 输入表单 -->
  <div class="mb-2 p-3 border border-dark">
    <label class="mb-2" for="send-message-textarea">输入消息：</label>
    <textarea class="mb-2 form-control" id="send-message-textarea"></textarea>
    <button class="me-4 btn btn-primary" id="send-message-btn" type="button" disabled>发送</button>
    ID：<span class="me-4" id="my-id-view"></span>
    TargetID：<span id="target-id-view"></span>

    <!-- 发送图片 -->
    <div class="mt-4">
      <label class="form-label" for="upload-file">发送图片：</label>
      <input class="form-control" id="upload-file" type="file" accept="image/*" disabled>
    </div>
  </div>

  <!-- 接收消息 -->
  <div class="mb-2 p-3 border border-dark">
    <h6 class="mb-3">接收消息：</h6>
    <ul class="fs-6" id="all-message"></ul>
  </div>
</div>

<!-- 提示消息的模板 -->
<div class="d-none position-fixed top-0 start-50 translate-middle mt-5 alert alert-warning alert-dismissible"
  id="offline-hint-alert"
  role="alert"
>
  <div class="px-3">对方已下线</div>
  <button class="btn-close" type="button" data-bs-dismiss="alert" aria-label="Close"></button>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js"
  integrity="sha256-cMPWkL3FzjuaFSfEYESYmjF25hCIL6mfRSPnW8OVvM4="
  crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/dayjs@1.11.2/dayjs.min.js"
  integrity="sha256-iu/zLUB+QgISXBLCW/mcDi/rnf4m4uEDO0wauy76x7U="
  crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/dayjs@1.11.2/locale/zh-cn.js"
  integrity="sha256-2TsHTeSh8LW33oELG0p9GAxq9gEbHzGkRVyjTjQRlHs="
  crossorigin="anonymous"></script>
<script>
  dayjs.locale('zh-cn'); // dayjs locale config
</script>
<script src="https://cdn.jsdelivr.net/npm/@bbkkbkk/q@1.1.1/dist/Q.min.js"
  integrity="sha256-4XDxF3a2tOhq5gTPONDeSoNx/oBnRIIM3WzPKrBg7vg="
  crossorigin="anonymous"></script>
<script src="./chatroom.js" type="module"></script>
</body>
</html>